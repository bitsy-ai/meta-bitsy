From 61558b6bf2b6a119878aada29fb4ab4dae8b9481 Mon Sep 17 00:00:00 2001
From: Leigh Johnson <leigh@bitsy.ai>
Date: Wed, 1 Jun 2022 19:50:59 -0700
Subject: [PATCH] Do not include user site-packages in Yocto build system
 (leaks host system)

Signed-off-by: Leigh Johnson <leigh@bitsy.ai>
---
 meson.build | 1 -
 1 file changed, 1 deletion(-)

diff --git a/meson.build b/meson.build
index ed090ea9..c175d2e4 100644
--- a/meson.build
+++ b/meson.build
@@ -502,7 +502,6 @@ if not get_option('python3-support').disabled()
     python3_inc_args = []
     python3_inc_args += run_command(pg_pkgconfig, ['python3', '--cflags'], check : true).stdout().strip().split()
     python3_inc_args += run_command('python3', ['-c', 'import site\nfor i in site.getsitepackages(): print("-I" + i + "/numpy/core/include")'], check : true).stdout().strip().split()
-    python3_inc_args += '-I' + run_command('python3', ['-m', 'site', '--user-site'], check : true).stdout().strip() + '/numpy/core/include'
     python3_inc_valid_args = []
 
     foreach python3_inc_arg : python3_inc_args
-- 
2.25.1

